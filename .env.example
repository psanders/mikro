# Mikro Development Environment Variables
# Copy this file to .env and fill in your values

# =============================================================================
# LLM Configuration (LangChain)
# =============================================================================
# Each LLM purpose is configured with a JSON object containing:
#   - vendor: "openai" | "anthropic" | "google"
#   - apiKey: Your API key for the vendor
#   - model: Model name (must be valid for the vendor)
#
# Supported models per vendor:
#   OpenAI: gpt-4o, gpt-4o-mini, gpt-5.2, gpt-5-mini, gpt-4.1
#   Anthropic: claude-opus-4-6, claude-sonnet-4-5-20250929, claude-sonnet-4-20250514, claude-haiku-4-5-20251001
#   Google: gemini-2.5-pro, gemini-2.5-flash, gemini-2.5-flash-lite

# Text LLM - Used for text-only chat completions with tool calling
MIKRO_LLM_TEXT='{"vendor":"openai","apiKey":"your-openai-api-key","model":"gpt-4o-mini"}'

# Vision LLM - Used for multimodal requests with images
# Must be a vision-capable model (gpt-4o, gpt-4o-mini for OpenAI)
MIKRO_LLM_VISION='{"vendor":"openai","apiKey":"your-openai-api-key","model":"gpt-4o"}'

# Evals LLM - Only required when running evals (judge). gpt-4o-mini was the working default.
MIKRO_LLM_EVALS='{"vendor":"openai","apiKey":"your-openai-api-key","model":"gpt-4o-mini"}'

# Optional: min confidence 0-1 for eval "similar" (default 0.7). Lower = more permissive.
# MIKRO_EVAL_SIMILARITY_THRESHOLD=0.65

# Optional: per-vendor TEXT/VISION for "npm run agents:eval -- --vendors openai,anthropic,google"
# Scenario runs use these as the agent's text/vision models; judge still uses MIKRO_LLM_EVALS.
# For openai, MIKRO_LLM_TEXT and MIKRO_LLM_VISION are used if _OPENAI variants are not set.
# MIKRO_LLM_TEXT_OPENAI=...   MIKRO_LLM_VISION_OPENAI=...
# MIKRO_LLM_TEXT_ANTHROPIC=...   MIKRO_LLM_VISION_ANTHROPIC=...
# MIKRO_LLM_TEXT_GOOGLE=...   MIKRO_LLM_VISION_GOOGLE=...

# WhatsApp Business API
MIKRO_WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id-here
MIKRO_WHATSAPP_ACCESS_TOKEN=your-access-token-here
MIKRO_WHATSAPP_VERIFY_TOKEN=mikro_webhook_token

# Maximum age (in seconds) for incoming WhatsApp messages
# Messages older than this will be discarded to prevent out-of-context responses
# Default: 60
MIKRO_MESSAGE_MAX_AGE_SECONDS=60

# Session timeout (seconds). If last message was older than this, next message gets full greeting.
# Default: 1800 (30 minutes)
MIKRO_SESSION_TIMEOUT_SECONDS=1800

# Database
MIKRO_DATABASE_URL=file:./data/mikro.db

# API URL (server-side only)
# Note: CLI clients should use "mikro auth:login" to configure API URL and credentials
MIKRO_API_URL=http://localhost:4000

# Public URL for serving images (required for WhatsApp receipt sending)
# Must be a publicly accessible HTTPS URL
# For development, use ngrok or similar tunneling service
MIKRO_PUBLIC_URL=http://localhost:4000

# API Server
MIKRO_PORT=4000

# Basic auth credentials for API server (format: username:password)
# Server-side only - used to validate incoming API requests
# Note: CLI clients should use "mikro auth:login" to configure credentials
MIKRO_CREDENTIALS=admin:secret

# Public path for storing/serving static files (receipts, images, etc.)
MIKRO_PUBLIC_PATH=./public

# Path to signing keys for receipts
MIKRO_KEYS_PATH=./keys

# Ngrok (optional, for development HTTPS tunneling)
# Get your authtoken from https://dashboard.ngrok.com/get-started/your-authtoken
MIKRO_NGROK_AUTHTOKEN=your-ngrok-authtoken-here

# Disabled AI agents (comma-separated list: joan, juan, maria)
# Example: MIKRO_DISABLED_AGENTS=joan,maria
MIKRO_DISABLED_AGENTS=
